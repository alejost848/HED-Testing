<link rel="import" href="../polymer/polymer.html">

<link rel="import" href="../iron-icon/iron-icon.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../paper-behaviors/paper-button-behavior.html">
<link rel="import" href="../paper-ripple/paper-ripple.html">
<link rel="import" href="the-icon.html">

<dom-module id="the-puzzle">

  <style>
    .section_container{
      width: 80%;
      height: 100%;
      margin: 0 auto;
    }

    the-icon:hover{
      background-color: rgba(255,255,255,0.02);
    }

    @media (max-width: 850px) {
      .section_container{
        width: 100%;      
      }

      #element_rows{
        margin-top: 25px;
      }
    }
  </style>

  <template>
    <div class="section_container layout horizontal center-center">         
      <div id="element_rows" class="layout horizontal">
        <div class="layout horizontal">
          <template is="dom-repeat" items="{{puzzleRow1}}">
            <the-icon identifier="{{item.id}}" icon="{{item.icon}}"></the-icon>
          </template>
        </div>
        <div class="layout horizontal">
          <template is="dom-repeat" items="{{puzzleRow2}}">
            <the-icon identifier="{{item.id}}" icon="{{item.icon}}" unlocked></the-icon>
          </template>
        </div>
        <div class="layout horizontal">
          <template is="dom-repeat" items="{{puzzleRow3}}">
            <the-icon identifier="{{item.id}}" icon="{{item.icon}}"></the-icon>
          </template>
        </div>
      </div>  
    </div>
  </template>

  <script>
  
    Polymer({

      is: 'the-puzzle',

      properties: {
        icon: {
          type: String
        },
        identifier: {
          type: String
        },
        active: {
          type: Boolean,
          value: false
        }
      },

      attached: function(){
        var puzzleArray = [
          {id: '0', icon: 'puzzle-icons:lead'},       
          {id: '1', icon: 'puzzle-icons:hihat'},
          {id: '2', icon: 'puzzle-icons:kick'},          
          {id: '3', icon: 'puzzle-icons:bass'},
          {id: '4', icon: 'puzzle-icons:rhodes'},
          {id: '5', icon: 'puzzle-icons:st1'},
          {id: '6', icon: 'puzzle-icons:saxo'},
          {id: '7', icon: 'puzzle-icons:st2'},
          {id: '8', icon: 'puzzle-icons:sthit'}
        ];

        var puzzleRow1 = [
          puzzleArray[0],
          puzzleArray[1],
          puzzleArray[2]
        ];  
        this.puzzleRow1 = puzzleRow1;

        var puzzleRow2 = [
          puzzleArray[3],
          puzzleArray[4],
          puzzleArray[5]
        ];  
        this.puzzleRow2 = puzzleRow2;

        var puzzleRow3 = [
          puzzleArray[6],
          puzzleArray[7],
          puzzleArray[8]
        ];  
        this.puzzleRow3 = puzzleRow3;
      },

      shuffle: function(o) {
        for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
        return o;
      }

    });

  </script>

</dom-module>